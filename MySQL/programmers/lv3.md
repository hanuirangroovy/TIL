# Level3

## 없어진 기록 찾기

```
SELECT ANIMAL_ID, NAME
FROM ANIMAL_OUTS
WHERE ANIMAL_ID NOT IN (
SELECT ANIMAL_ID
FROM ANIMAL_INS)
ORDER BY ANIMAL_ID ASC
```



## 오랜 시간 보호한 동물(1)

```
SELECT NAME, DATETIME
FROM ANIMAL_INS
WHERE ANIMAL_ID NOT IN (
SELECT ANIMAL_ID
FROM ANIMAL_OUTS)
ORDER BY DATETIME
LIMIT 3
```



## 오랜 기간 보호한 동물(2)

```
SELECT I.ANIMAL_ID, I.NAME
FROM ANIMAL_INS I JOIN ANIMAL_OUTS O ON I.ANIMAL_ID = O.ANIMAL_ID
ORDER BY O.DATETIME - I.DATETIME DESC 
LIMIT 2
```



## 있었는데요 없었습니다

```
SELECT I.ANIMAL_ID, I.NAME
FROM ANIMAL_INS I, ANIMAL_OUTS O 
WHERE I.ANIMAL_ID = O.ANIMAL_ID
AND O.DATETIME < I.DATETIME
ORDER BY I.DATETIME
```



## 헤비 유저가 소유한 장소

```
SELECT ID, NAME, HOST_ID
FROM PLACES A
WHERE (SELECT COUNT(HOST_ID)
       FROM PLACES B
       WHERE A.HOST_ID = B.HOST_ID) >1
```

